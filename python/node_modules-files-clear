import os
import shutil

def find_and_remove_node_modules(root_dir):
    node_modules_paths = set()

    for dirpath, dirnames, filenames in os.walk(root_dir):
        if 'node_modules' in dirnames:
            node_modules_path = os.path.join(dirpath, 'node_modules')
            node_modules_paths.add(node_modules_path)
            
            dirnames.remove('node_modules')
    
    print(f"Toplam {len(node_modules_paths)} tane 'node_modules' bulundu:")
    for path in node_modules_paths:
        print(f"Silinecek: {path}")
    
    for path in node_modules_paths:
        try:
            shutil.rmtree(path)
            print(f"Silindi: {path}")
        except Exception as e:
            print(f"Silinirken hata oluÅŸtu: {path} -> {e}")

if __name__ == "__main__":
    current_dir = os.getcwd()
    find_and_remove_node_modules(current_dir)
